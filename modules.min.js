// Минифицированная версия для продакшена
class ModuleLoader{constructor(){this.modules=new Map()}async loadModule(moduleName,targetElement){try{if(this.modules.has(moduleName)){if(targetElement){targetElement.innerHTML=this.modules.get(moduleName)}return this.modules.get(moduleName)}const response=await fetch(`${moduleName}.html`,{cache:'force-cache',headers:{'Cache-Control':'max-age=3600'}});if(!response.ok){throw new Error(`HTTP error! status: ${response.status}`)}const html=await response.text();this.modules.set(moduleName,html);if(targetElement){targetElement.innerHTML=html}return html}catch(error){console.error(`Ошибка загрузки модуля ${moduleName}:`,error);return null}}async loadHeader(){const headerContainer=document.getElementById('header-container');if(headerContainer){await this.loadModule('header',headerContainer)}}async loadFooter(){const footerContainer=document.getElementById('footer-container');if(footerContainer){await this.loadModule('footer',footerContainer)}}async loadAllModules(){await Promise.all([this.loadHeader(),this.loadFooter()])}}const moduleLoader=new ModuleLoader();document.addEventListener('DOMContentLoaded',()=>{moduleLoader.loadAllModules()});
